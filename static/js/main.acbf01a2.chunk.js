(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,function(e,a,t){e.exports={petslist_header:"Dashboard_petslist_header__3W7Cp",petslist_container:"Dashboard_petslist_container__2ZGuw",petlist_row:"Dashboard_petlist_row__1t6-c",actions:"Dashboard_actions__1nbkS",conclude_btn:"Dashboard_conclude_btn__1gGso",contacts:"Dashboard_contacts__2MtFY"}},,function(e,a,t){e.exports={form_container:"Form_form_container__3ApDE",preview_pet_images:"Form_preview_pet_images__PbUbt"}},,,function(e,a,t){e.exports={pet_home_header:"Home_pet_home_header__DIheg",pet_container:"Home_pet_container__19IB-",pet_card:"Home_pet_card__1rDeG",pet_card_image:"Home_pet_card_image__3Na-X",adopted_text:"Home_adopted_text__3Qk1-"}},,,,,function(e,a,t){e.exports={addpet_header:"AddPet_addpet_header__3w-b_"}},function(e,a,t){e.exports={pet_details_container:"PetDetails_pet_details_container__3d-cY",petdetails_header:"PetDetails_petdetails_header__3oRNY",pet_images:"PetDetails_pet_images__1rkGS"}},,function(e,a,t){e.exports={navbar:"Navbar_navbar__Icl4L",navbar_logo:"Navbar_navbar_logo__15Mhc"}},,,function(e,a,t){e.exports={message:"Message_message__5maXq",success:"Message_success__2mOQs",error:"Message_error__lZkNx"}},function(e,a,t){e.exports={rounded_image:"RoundedImage_rounded_image__2pdqg",px75:"RoundedImage_px75__1GU3X"}},,function(e,a,t){e.exports=t.p+"static/media/logo.aa3c9451.png"},,,function(e,a,t){e.exports={footer:"Footer_footer__1e0lR"}},function(e,a,t){e.exports={container:"Container_container__Whdga"}},function(e,a,t){e.exports={form_control:"Input_form_control__2kcnv"}},function(e,a,t){e.exports={profile_header:"Profile_profile_header__2BrZJ"}},function(e,a,t){e.exports={form_control:"Select_form_control__vF264"}},function(e,a,t){e.exports=t(55)},,,,,,,,function(e,a,t){},,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(26),r=t.n(c),o=(t(43),t(3)),s=t(4),m=t(21),i=t.n(m),u=t(27),d=t.n(u),p=t(57).a.create({baseURL:"http://localhost:5000"}),h=t(28),g=new(t.n(h).a);function E(){return{setFlashMessage:function(e,a){g.emit("flash",{message:e,type:a})}}}const _=Object(n.createContext)();function f(e){let{children:a}=e;const{authenticated:t,loading:c,register:r,login:o,logout:m}=function(){const[e,a]=Object(n.useState)(!1),[t,l]=Object(n.useState)(!0),c=Object(s.f)(),{setFlashMessage:r}=E();async function o(e){a(!0),localStorage.setItem("token",JSON.stringify(e.token)),c.push("/")}return Object(n.useEffect)(()=>{const e=localStorage.getItem("token");e&&(p.defaults.headers.Authorization="Bearer ".concat(JSON.parse(e)),a(!0)),l(!1)},[]),{authenticated:e,loading:t,register:async function(e){let a="Cadastro realizado com sucesso!",t="success";try{const a=await p.post("/users/register",e).then(e=>e.data);await o(a)}catch(n){a=n.response.data.message,t="error"}r(a,t)},login:async function(e){let a="Login realizado com sucesso!",t="success";try{const a=await p.post("/users/login",e).then(e=>e.data);await o(a)}catch(n){a=n.response.data.message,t="error"}r(a,t)},logout:function(){a(!1),localStorage.removeItem("token"),p.defaults.headers.Authorization=void 0,c.push("/login"),r("Logout realizado com sucesso!","success")}}}();return l.a.createElement(_.Provider,{value:{loading:c,authenticated:t,register:r,login:o,logout:m}},a)}var b=function(){const{authenticated:e,logout:a}=Object(n.useContext)(_);return l.a.createElement("nav",{className:i.a.navbar},l.a.createElement("div",{className:i.a.navbar_logo},l.a.createElement("img",{src:d.a,alt:"Adote"}),l.a.createElement("h2",null,"Adote")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(o.b,{to:"/"},"Adotar")),e?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(o.b,{to:"/pet/myadoptions"},"Minhas Ado\xe7\xf5es")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/pet/mypets"},"Pets")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/user/profile"},"Meu Perfil")),l.a.createElement("li",{onClick:a},"Sair")):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(o.b,{to:"/login"},"Entrar")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/register"},"Registrar")))))},v=t(30),O=t.n(v);var S=function(){return l.a.createElement("footer",{className:O.a.footer},l.a.createElement("p",null,l.a.createElement("b",null,"Seja adotado - DW2A4")," \xa9 2023"))},y=t(24),N=t.n(y);var x=function(){let[e,a]=Object(n.useState)(!1),[t,c]=Object(n.useState)(""),[r,o]=Object(n.useState)("");return Object(n.useEffect)(()=>{g.addListener("flash",e=>{let{message:t,type:n}=e;a(!0),c(t),o(n),setTimeout(()=>{a(!1)},4e3)})},[]),Object(n.useEffect)(()=>{null!==document.querySelector(".close")&&document.querySelector(".close").addEventListener("click",()=>a(!1))}),e&&l.a.createElement("div",{className:"".concat(N.a.message," ").concat(N.a[r])},t)},C=t(31),j=t.n(C);var w=function(e){let{children:a}=e;return l.a.createElement("main",{className:j.a.container},a)},D=t(13),k=t.n(D);var A=function(){const[e,a]=Object(n.useState)([]);return Object(n.useEffect)(()=>{p.get("/pets").then(e=>{a(e.data.pets)})},[]),l.a.createElement("section",null,l.a.createElement("div",{className:k.a.pet_home_header},l.a.createElement("h1",null,"Adote"),l.a.createElement("br",null),l.a.createElement("p",null,"Adote um fofo ser de quatro patas, que vai mandar na sua vida! ")),l.a.createElement("div",{className:k.a.pet_container},e.length>0&&e.map(e=>l.a.createElement("div",{className:k.a.pet_card,key:e._id},l.a.createElement("div",{style:{backgroundImage:"url(".concat("http://localhost:5000/","/images/pets/").concat(e.images[0],")")},className:k.a.pet_card_image}),l.a.createElement("h3",null,e.name),l.a.createElement("p",null,l.a.createElement("span",{className:"bold"},"Peso:")," ",e.weight,"kg"),e.available?l.a.createElement(o.b,{to:"/pet/".concat(e._id)},"Mais detalhes"):l.a.createElement("p",{className:k.a.adopted_text},"Adotado!"))),0===e.length&&l.a.createElement("p",null,"N\xe3o h\xe1 pets cadastrados ou dispon\xedveis para ado\xe7\xe3o no momento!")))},P=t(32),F=t.n(P);var I=function(e){let{type:a,text:t,name:n,placeholder:c,handleOnChange:r,value:o,multiple:s}=e;return l.a.createElement("div",{className:F.a.form_control},l.a.createElement("label",{htmlFor:n},t,":"),l.a.createElement("input",Object.assign({type:a,name:n,id:n,placeholder:c,onChange:r,value:o},s?{multiple:s}:"")))},z=t(10),M=t.n(z);var J=function(){const[e,a]=Object(n.useState)({}),{login:t}=Object(n.useContext)(_);function c(t){a({...e,[t.target.name]:t.target.value})}return l.a.createElement("section",{className:M.a.form_container},l.a.createElement("h1",null,"Login"),l.a.createElement("form",{onSubmit:a=>{a.preventDefault(),t(e)}},l.a.createElement(I,{text:"E-mail",type:"email",name:"email",placeholder:"Digite o e-mail",handleOnChange:c}),l.a.createElement(I,{text:"Senha",type:"password",name:"password",placeholder:"Digite a senha",handleOnChange:c}),l.a.createElement("input",{type:"submit",value:"Entrar"})),l.a.createElement("p",null,"N\xe3o tem conta? ",l.a.createElement(o.b,{to:"/register"},"Clique aqui.")))};var B=function(){const[e,a]=Object(n.useState)({}),{register:t}=Object(n.useContext)(_);function c(t){a({...e,[t.target.name]:t.target.value})}return l.a.createElement("section",{className:M.a.form_container},l.a.createElement("h1",null,"Registrar"),l.a.createElement("form",{onSubmit:function(a){a.preventDefault(),t(e)}},l.a.createElement(I,{text:"Nome",type:"text",name:"name",placeholder:"Digite o seu nome",handleOnChange:c}),l.a.createElement(I,{text:"Telefone",type:"text",name:"phone",placeholder:"Digite o seu telefone",handleOnChange:c}),l.a.createElement(I,{text:"E-mail",type:"email",name:"email",placeholder:"Digite o seu e-mail",handleOnChange:c}),l.a.createElement(I,{text:"Senha",type:"password",name:"password",placeholder:"Digite a sua senha",handleOnChange:c}),l.a.createElement(I,{text:"Confirma\xe7\xe3o de senha",type:"password",name:"confirmpassword",placeholder:"Confirme a sua senha",handleOnChange:c}),l.a.createElement("input",{type:"submit",value:"Cadastrar"})),l.a.createElement("p",null,"J\xe1 tem conta? ",l.a.createElement(o.b,{to:"/login"},"Clique aqui.")))},L=t(33),q=t.n(L),R=t(25),T=t.n(R);var U=function(e){let{src:a,alt:t,width:n}=e;return l.a.createElement("img",{className:"".concat(T.a.rounded_image," ").concat(T.a[n]),src:a,alt:t})};var G=function(){const[e,a]=Object(n.useState)({}),[t,c]=Object(n.useState)(),[r]=Object(n.useState)(localStorage.getItem("token")||""),{setFlashMessage:o}=E();function s(t){a({...e,[t.target.name]:t.target.value})}return Object(n.useEffect)(()=>{p.get("/users/checkuser",{headers:{Authorization:"Bearer ".concat(JSON.parse(r))}}).then(e=>{a(e.data)})},[r]),l.a.createElement("section",null,l.a.createElement("div",{className:q.a.profile_header},l.a.createElement("h1",null,"Perfil"),(e.image||t)&&l.a.createElement(U,{src:t?URL.createObjectURL(t):"".concat("http://localhost:5000/","/images/users/").concat(e.image),alt:e.name})),l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();let t="success";const n=new FormData,l=await Object.keys(e).forEach(a=>n.append(a,e[a]));n.append("user",l);const c=await p.patch("/users/edit/".concat(e._id),n,{headers:{Authorization:"Bearer ".concat(JSON.parse(r)),"Content-Type":"multipart/form-data"}}).then(e=>(console.log(e.data),e.data)).catch(e=>(console.log(e),t="error",e.response.data));o(c.message,t)},className:M.a.form_container},l.a.createElement(I,{text:"Imagem",type:"file",name:"image",handleOnChange:function(t){c(t.target.files[0]),a({...e,[t.target.name]:t.target.files[0]})}}),l.a.createElement(I,{text:"E-mail",type:"email",name:"email",placeholder:"Digite o e-mail",handleOnChange:s,value:e.email||""}),l.a.createElement(I,{text:"Nome",type:"text",name:"name",placeholder:"Digite o nome",handleOnChange:s,value:e.name||""}),l.a.createElement(I,{text:"Telefone",type:"text",name:"phone",placeholder:"Digite o seu telefone",handleOnChange:s,value:e.phone||""}),l.a.createElement(I,{text:"Senha",type:"password",name:"password",placeholder:"Digite a sua senha",handleOnChange:s}),l.a.createElement(I,{text:"Confirma\xe7\xe3o de senha",type:"password",name:"confirmpassword",placeholder:"Confirme a sua senha",handleOnChange:s}),l.a.createElement("input",{type:"submit",value:"Editar"})))},H=t(18),W=t.n(H),X=t(34),Y=t.n(X);var Z=function(e){let{text:a,name:t,options:n,handleOnChange:c,value:r}=e;return l.a.createElement("div",{className:Y.a.form_control},l.a.createElement("label",{htmlFor:t},a,":"),l.a.createElement("select",{name:t,id:t,onChange:c,value:r||""},l.a.createElement("option",null,"Selecione uma op\xe7\xe3o"),n.map(e=>l.a.createElement("option",{value:e,key:e},e))))};var Q=function(e){let{handleSubmit:a,petData:t,btnText:c}=e;const[r,o]=Object(n.useState)(t||{}),[s,m]=Object(n.useState)([]);function i(e){o({...r,[e.target.name]:e.target.value})}return l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),a(r)},className:M.a.form_container},l.a.createElement("div",{className:M.a.preview_pet_images},s.length>0?s.map((e,a)=>l.a.createElement("img",{src:URL.createObjectURL(e),alt:r.name,key:"".concat(r.name,"+").concat(a)})):r.images&&r.images.map((e,a)=>l.a.createElement("img",{src:"".concat("http://localhost:5000/","/images/pets/").concat(e),alt:r.name,key:"".concat(r.name,"+").concat(a)}))),l.a.createElement(I,{text:"Imagens do Pet",type:"file",name:"images",handleOnChange:function(e){console.log(Array.from(e.target.files)),m(Array.from(e.target.files)),o({...r,images:[...e.target.files]})},multiple:!0}),l.a.createElement(I,{text:"Nome do Pet",type:"text",name:"name",placeholder:"Digite o nome",handleOnChange:i,value:r.name||""}),l.a.createElement(I,{text:"Idade do Pet",type:"number",name:"age",placeholder:"Digite a idade",handleOnChange:i,value:r.age||""}),l.a.createElement(I,{text:"Peso do Pet",type:"number",name:"weight",placeholder:"Digite o peso aproximado (Kg)",value:r.weight||"",handleOnChange:i}),l.a.createElement(Z,{name:"color",text:"Selecione a categoria",options:["Branco","Preto","Cinza","Caramelo","Amarelo"],handleOnChange:function(e){o({...r,color:e.target.options[e.target.selectedIndex].text})},value:r.color||""}),l.a.createElement("input",{type:"submit",value:c}))};var V=function(){const[e]=Object(n.useState)(localStorage.getItem("token")||""),{setFlashMessage:a}=E(),t=Object(s.f)();return l.a.createElement("section",null,l.a.createElement("div",{className:W.a.addpet_header},l.a.createElement("h1",null,"Cadastre um Pet"),l.a.createElement("p",null,"Depois ele ficar\xe1 dispon\xedvel para ado\xe7\xe3o")),l.a.createElement(Q,{handleSubmit:async function(n){let l="success";const c=new FormData,r=await Object.keys(n).forEach(e=>{if("images"===e)for(let a=0;a<n[e].length;a++)c.append("images",n[e][a]);else c.append(e,n[e])});c.append("pet",r);const o=await p.post("pets/create",c,{headers:{Authorization:"Bearer ".concat(JSON.parse(e)),"Content-Type":"multipart/form-data"}}).then(e=>(console.log(e.data),e.data)).catch(e=>(console.log(e),l="error",e.response.data));a(o.message,l),t.push("/pet/mypets")},btnText:"Cadastrar"}))},K=t(8),$=t.n(K);var ee=function(){const[e,a]=Object(n.useState)([]),[t]=Object(n.useState)(localStorage.getItem("token")||""),{setFlashMessage:c}=E();return Object(n.useEffect)(()=>{p.get("/pets/mypets",{headers:{Authorization:"Bearer ".concat(JSON.parse(t))}}).then(e=>{a(e.data.pets)})},[t]),l.a.createElement("section",null,l.a.createElement("div",{className:$.a.petslist_header},l.a.createElement("h1",null,"Pets Cadastrados"),l.a.createElement(o.b,{to:"/pet/add"},"Cadastrar Pet")),l.a.createElement("div",{className:$.a.petslist_container},e.length>0&&e.map(n=>l.a.createElement("div",{key:n._id,className:$.a.petlist_row},l.a.createElement(U,{src:"".concat("http://localhost:5000/","/images/pets/").concat(n.images[0]),alt:n.name,width:"px75"}),l.a.createElement("span",{className:"bold"},n.name),l.a.createElement("div",{className:$.a.actions},n.available?l.a.createElement(l.a.Fragment,null,n.adopter&&l.a.createElement("button",{className:$.a.conclude_btn,onClick:()=>{!async function(e){let a="success";const n=await p.patch("/pets/conclude/".concat(e),{headers:{Authorization:"Bearer ".concat(JSON.parse(t))}}).then(e=>e.data).catch(e=>(console.log(e),a="error",e.response.data));c(n.message,a)}(n._id)}},"Concluir ado\xe7\xe3o"),l.a.createElement(o.b,{to:"/pet/edit/".concat(n._id)},"Editar"),l.a.createElement("button",{onClick:()=>{!async function(n){let l="success";const r=await p.delete("/pets/".concat(n),{headers:{Authorization:"Bearer ".concat(JSON.parse(t))}}).then(t=>{const l=e.filter(e=>e._id!==n);return a(l),t.data}).catch(e=>(console.log(e),l="error",e.response.data));c(r.message,l)}(n._id)}},"Excluir")):l.a.createElement("p",null,"Pet j\xe1 adotado")))),0===e.length&&l.a.createElement("p",null,"Ainda n\xe3o h\xe1 pets cadastrados!")))};var ae=function(){const[e,a]=Object(n.useState)({}),[t]=Object(n.useState)(localStorage.getItem("token")||""),{id:c}=Object(s.g)(),{setFlashMessage:r}=E();return Object(n.useEffect)(()=>{p.get("/pets/".concat(c),{headers:{Authorization:"Bearer ".concat(JSON.parse(t))}}).then(e=>{a(e.data.pet)})},[t,c]),l.a.createElement("section",null,l.a.createElement("div",{className:W.a.addpet_header},l.a.createElement("h1",null,"Editando o Pet: ",e.name),l.a.createElement("p",null,"Depois da edi\xe7\xe3o os dados ser\xe3o atualizados no sistema")),e.name&&l.a.createElement(Q,{handleSubmit:async function(e){let a="success";const n=new FormData,l=await Object.keys(e).forEach(a=>{if("images"===a)for(let t=0;t<e[a].length;t++)n.append("images",e[a][t]);else n.append(a,e[a])});n.append("pet",l);const c=await p.patch("pets/".concat(e._id),n,{headers:{Authorization:"Bearer ".concat(JSON.parse(t)),"Content-Type":"multipart/form-data"}}).then(e=>(console.log(e.data),e.data)).catch(e=>(console.log(e),a="error",e.response.data));r(c.message,a)},petData:e,btnText:"Editar"}))},te=t(19),ne=t.n(te);var le=function(){const[e,a]=Object(n.useState)({}),{id:t}=Object(s.g)(),{setFlashMessage:c}=E(),[r]=Object(n.useState)(localStorage.getItem("token")||"");return Object(n.useEffect)(()=>{p.get("/pets/".concat(t)).then(e=>{a(e.data.pet)})},[t]),l.a.createElement(l.a.Fragment,null,e.name&&l.a.createElement("section",{className:ne.a.pet_details_container},l.a.createElement("div",{className:ne.a.petdetails_header},l.a.createElement("h1",null,"Conhecendo o Pet: ",e.name),l.a.createElement("p",null,"Se tiver interesse, marque uma visita para conhec\xea-lo/a!")),l.a.createElement("div",{className:ne.a.pet_images},e.images.map((a,t)=>l.a.createElement("img",{key:t,src:"".concat("http://localhost:5000/","/images/pets/").concat(a),alt:e.name}))),l.a.createElement("p",null,l.a.createElement("span",{className:"bold"},"Peso:")," ",e.weight,"kg"),l.a.createElement("p",null,l.a.createElement("span",{className:"bold"},"Idade:")," ",e.age," anos"),r?l.a.createElement("button",{onClick:async function(){let a="success";const t=await p.patch("pets/schedule/".concat(e._id),{headers:{Authorization:"Bearer ".concat(JSON.parse(r))}}).then(e=>(console.log(e.data),e.data)).catch(e=>(console.log(e),a="error",e.response.data));c(t.message,a)}},"Solicitar uma Visita"):l.a.createElement("p",null,"Voc\xea precisa ",l.a.createElement(o.b,{to:"/register"},"criar uma conta")," para solicitar a visita.")))};var ce=function(){const[e,a]=Object(n.useState)([]),[t]=Object(n.useState)(localStorage.getItem("token")||"");return Object(n.useEffect)(()=>{p.get("/pets/myadoptions",{headers:{Authorization:"Bearer ".concat(JSON.parse(t))}}).then(e=>{a(e.data.pets)})},[t]),l.a.createElement("section",null,l.a.createElement("div",{className:$.a.petslist_header},l.a.createElement("h1",null,"Minhas ado\xe7\xf5es")),l.a.createElement("div",{className:$.a.petslist_container},e.length>0&&e.map(e=>l.a.createElement("div",{key:e._id,className:$.a.petlist_row},l.a.createElement(U,{src:"".concat("http://localhost:5000/","/images/pets/").concat(e.images[0]),alt:e.name,width:"px75"}),l.a.createElement("span",{className:"bold"},e.name),l.a.createElement("div",{className:$.a.contacts},l.a.createElement("p",null,l.a.createElement("span",{className:"bold"},"Ligue para:")," ",e.user.phone),l.a.createElement("p",null,l.a.createElement("span",{className:"bold"},"Fale com:")," ",e.user.name)),l.a.createElement("div",{className:$.a.actions},e.available?l.a.createElement("p",null,"Ado\xe7\xe3o em processo"):l.a.createElement("p",null,"Parab\xe9ns por concluir a ado\xe7\xe3o")))),0===e.length&&l.a.createElement("p",null,"Ainda n\xe3o h\xe1 pets adotados!")))};var re=function(){return l.a.createElement(o.a,null,l.a.createElement(f,null,l.a.createElement(b,null),l.a.createElement(x,null),l.a.createElement(w,null,l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/login"},l.a.createElement(J,null)),l.a.createElement(s.a,{path:"/register"},l.a.createElement(B,null)),l.a.createElement(s.a,{path:"/user/profile"},l.a.createElement(G,null)),l.a.createElement(s.a,{path:"/pet/add"},l.a.createElement(V,null)),l.a.createElement(s.a,{path:"/pet/edit/:id"},l.a.createElement(ae,null)),l.a.createElement(s.a,{path:"/pet/mypets"},l.a.createElement(ee,null)),l.a.createElement(s.a,{path:"/pet/myadoptions"},l.a.createElement(ce,null)),l.a.createElement(s.a,{path:"/pet/:id"},l.a.createElement(le,null)),l.a.createElement(s.a,{path:"/"},l.a.createElement(A,null)))),l.a.createElement(S,null)))};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(re,null)),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.acbf01a2.chunk.js.map